---
interface Props {
  title: string;
  description?: string;
  image?: string;
  type?: 'website' | 'article';
}

const {
  title,
  description = "Nature: pasta e prodotti agroalimentari autentici della Daunia rurale in Puglia, frutto della filiera corta e della tradizione della Famiglia Romano, 100% Made in Italy.",
  image = "/LogoNature.png",
  type = "website",
} = Astro.props;

const siteName = "Nature - Un Gesto d'Amore";
const canonicalURL = new URL(Astro.url.pathname, Astro.site);
const socialImageURL = new URL(image, Astro.url);

const schema = [
  {
    "@context": "https://schema.org",
    "@type": "LocalBusiness",
    "name": "Azienda Agricola Romano",
    "image": new URL("/LogoAziendaRomano.png", Astro.url).href,
    "@id": Astro.site,
    "url": Astro.site,
    "telephone": "+39 353 2125 600",
    "email": "az.agricolaromano@outlook.it",
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "Poggio Imperiale",
      "addressLocality": "Poggio Imperiale",
      "addressRegion": "FG",
      "postalCode": "71010",
      "addressCountry": "IT"
    },
    "geo": {
      "@type": "GeoCoordinates",
      "latitude": 41.8239,
      "longitude": 15.3625
    },
    "areaServed": "Italy",
    "keywords": "prodotti filiera corta Puglia, Daunia rurale, Poggio Imperiale, eccellenze agroalimentari, filiera corta"
  },
  {
    "@context": "https://schema.org",
    "@type": "ItemList",
    "name": "Collezione Pasta Artigianale Nature",
    "description": "Pasta artigianale a filiera corta, 100% italiana, trafilata al bronzo ed essiccata lentamente.",
    "numberOfItems": 6,
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@type": "Product",
          "name": "Fusilloni",
          "description": "Profumi intensi dell'estate. Abbinamento consigliato: Crema di melanzane arrostite e pomodorini secchi sott’olio.",
          "image": new URL("/Fusilloni.jpeg", Astro.url).href,
          "brand": { "@type": "Brand", "name": "Nature" },
          "keywords": "Fusilloni, pasta artigianale, filiera corta"
        }
      },
      {
        "@type": "ListItem",
        "position": 2,
        "item": {
          "@type": "Product",
          "name": "Calamarata",
          "description": "Gusto raffinato e naturale. Abbinamento consigliato: Crema di carciofi artigianale con scorza di limone.",
          "image": new URL("/Calamarata.jpeg", Astro.url).href,
          "brand": { "@type": "Brand", "name": "Nature" },
          "keywords": "Calamarata, pasta artigianale, filiera corta"
        }
      },
      {
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@type": "Product",
          "name": "Esagoni",
          "description": "Semplicità mediterranea. Abbinamento consigliato: Olio EVO aromatizzato al peperoncino e prezzemolo fresco.",
          "image": new URL("/Esagoni.jpeg", Astro.url).href,
          "brand": { "@type": "Brand", "name": "Nature" },
          "keywords": "Esagoni, pasta artigianale, filiera corta"
        }
      },
      {
        "@type": "ListItem",
        "position": 4,
        "item": {
          "@type": "Product",
          "name": "Paccheri",
          "description": "Esplosione di colore e gusto. Abbinamento consigliato: Crema di datterino giallo con basilico fresco e olio EVO.",
          "image": new URL("/Paccheri.jpeg", Astro.url).href,
          "brand": { "@type": "Brand", "name": "Nature" },
          "keywords": "Paccheri, pasta artigianale, filiera corta"
        }
      },
      {
        "@type": "ListItem",
        "position": 5,
        "item": {
          "@type": "Product",
          "name": "Caserecce",
          "description": "Purezza e dolcezza. Abbinamento consigliato: Passata artigianale di pomodoro datterino e basilico fresco.",
          "image": new URL("/Caserecce.jpeg", Astro.url).href,
          "brand": { "@type": "Brand", "name": "Nature" },
          "keywords": "Caserecce, pasta artigianale, filiera corta"
        }
      },
      {
        "@type": "ListItem",
        "position": 6,
        "item": {
          "@type": "Product",
          "name": "Maccheroncini Rigati",
          "description": "Genuina e mediterranea. Abbinamento consigliato: Sugo rustico con pomodoro, peperoni, olive nere e capperi.",
          "image": new URL("/Maccheroncini.jpeg", Astro.url).href,
          "brand": { "@type": "Brand", "name": "Nature" },
          "keywords": "Maccheroncini Rigati, pasta artigianale, filiera corta"
        }
      }
    ]
  },
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "Nature - Un Gesto d'Amore",
    "url": Astro.site,
    "publisher": {
      "@type": "Organization",
      "name": "Azienda Agricola Romano"
    },
    "keywords": "Nature Made in Italy, Famiglia Romano, pasta artigianale Puglia, filiera corta"
  }
];
---

<!-- Global Metadata -->
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width" />
<meta name="generator" content={Astro.generator} />
<link rel="icon" type="image/x-icon" href="/favicon.ico" />
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<link rel="canonical" href={canonicalURL} />
<title>{title} | {siteName}</title>
<meta name="description" content={description} />
<meta name="keywords" content="prodotti filiera corta Puglia, Daunia rurale Made in Italy, Nature Made in Italy, Famiglia Romano prodotti, eccellenze agroalimentari Puglia" />
<meta name="author" content="Azienda Agricola Romano" />

<!-- Open Graph / Facebook -->
<meta property="og:type" content={type} />
<meta property="og:url" content={Astro.url} />
<meta property="og:title" content={title} />
<meta property="og:description" content={description} />
<meta property="og:image" content={socialImageURL} />
<meta property="og:site_name" content={siteName} />

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image" />
<meta property="twitter:url" content={Astro.url} />
<meta property="twitter:title" content={title} />
<meta property="twitter:description" content={description} />
<meta property="twitter:image" content={socialImageURL} />

<!-- JSON-LD Structured Data -->
<script type="application/ld+json" set:html={JSON.stringify(schema)} />
